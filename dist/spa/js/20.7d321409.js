(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[20],{"7f71":function(s,e,t){"use strict";t.r(e);var i=function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("div",[t("q-card-section",[s.loading?t("loading"):s._e(),s.loading?s._e():t("form",{on:{submit:function(e){return e.preventDefault(),s.submitSigninForm(e)}}},[t("q-input",{ref:"email",staticClass:"q-ma-xs",attrs:{"bg-color":"grey-4",filled:"",dense:"",placeholder:"email",rules:[function(s){return!!s||"Valid email required"},s.isValidEmail()],"lazy-rules":""},scopedSlots:s._u([{key:"prepend",fn:function(){return[t("q-icon",{attrs:{size:"xs",name:"alternate_email"}})]},proxy:!0}],null,!1,3818588119),model:{value:s.user.email,callback:function(e){s.$set(s.user,"email",e)},expression:"user.email"}}),t("q-input",{ref:"password",staticClass:"q-ma-xs",attrs:{"bg-color":"grey-4",filled:"",type:s.isPassword?"text":"password",placeholder:"password",rules:[function(s){return s.length>=6||"Must be at least 6 characters"}],dense:"","lazy-rules":""},on:{keyup:function(e){return!e.type.indexOf("key")&&s._k(e.keyCode,"enter",13,e.key,"Enter")?null:s.submitLoginForm(e)}},scopedSlots:s._u([{key:"prepend",fn:function(){return[t("q-icon",{attrs:{size:"xs",name:"vpn_key"}})]},proxy:!0},{key:"append",fn:function(){return[t("q-icon",{staticClass:"cursor-pointer text-blue-10",attrs:{size:"xs",name:s.isPassword?"visibility_off":"visibility"},on:{click:function(e){s.isPassword=!s.isPassword}}})]},proxy:!0}],null,!1,3974539525),model:{value:s.user.password,callback:function(e){s.$set(s.user,"password",e)},expression:"user.password"}})],1)],1),s.loading?s._e():t("q-card-actions",{staticClass:"bg-white text-teal",attrs:{align:"right"}},[t("q-btn",{staticClass:"q-mr-md",attrs:{unelevated:"",color:"blue-6",label:"Login"},on:{click:s.submitLoginForm}})],1)],1)},a=[],n=(t("e6cf"),t("ded3")),r=t.n(n),o=t("2f62"),l={data:()=>({loading:!1,user:{email:"",password:""},isPassword:!1,isConfirmPassword:!1}),computed:{passwordsMatch(){return[s=>!!s||"cannot be empty",s=>s==this.$refs.password.value||"passwords must match"]}},components:{loading:()=>t.e(1).then(t.bind(null,"c202"))},methods:r()(r()({},Object(o["b"])("users",["logUserIn"])),{},{showNotif(s,e="primary"){this.$q.notify({message:s,color:e})},isValidEmail(){const s=/^(?=[a-zA-Z0-9@._%+-]{6,254}$)[a-zA-Z0-9._%+-]{1,64}@(?:[a-zA-Z0-9-]{1,63}\.){1,8}[a-zA-Z]{2,63}$/;return s.test(this.user.email)||"Invalid email"},submitLoginForm(){this.loading=!0,this.$refs.email.validate(),this.$refs.password.validate(),this.$refs.email.hasErrors||this.$refs.password.hasError||this.signUserIn()},signUserIn(){this.logUserIn(this.user).then(s=>{this.loading=!1,this.showNotif("Logged in"),this.$emit("closeDialog"),this.$router.push("/lobby")}).catch(s=>{this.loading=!1,this.showNotif(s.message,"negative")})}}),mounted(){this.$refs.email.focus()}},u=l,c=t("2877"),d=t("a370"),m=t("27f9"),p=t("0016"),f=t("4b7e"),h=t("9c40"),g=t("eebe"),b=t.n(g),w=Object(c["a"])(u,i,a,!1,null,null,null);e["default"]=w.exports;b()(w,"components",{QCardSection:d["a"],QInput:m["a"],QIcon:p["a"],QCardActions:f["a"],QBtn:h["a"]})}}]);