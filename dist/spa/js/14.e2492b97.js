(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[14],{"55ce":function(s,e,t){"use strict";t.r(e);var a=function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("q-card",{staticStyle:{width:"300px"},attrs:{square:""}},[t("q-card-section",{staticClass:"bg-secondary text-white row items-center q-pb-none"},[t("div",{staticClass:"text-h6"},[s._v("Sign in")]),t("q-space"),t("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{icon:"close",flat:"",round:"",dense:""}})],1),s.loading?t("q-card-section",{staticClass:"text-center"},[t("loading")],1):s._e(),s.loading?s._e():t("q-card-section",[t("form",{on:{submit:function(e){return e.preventDefault(),s.submitSigninForm(e)}}},[t("q-input",{ref:"email",staticClass:"q-ma-xs",attrs:{"bg-color":"primary",filled:"",dense:"",placeholder:"email",rules:[function(s){return!!s||"Valid email required"},s.isValidEmail()],"lazy-rules":""},scopedSlots:s._u([{key:"prepend",fn:function(){return[t("q-icon",{attrs:{size:"xs",name:"alternate_email"}})]},proxy:!0}],null,!1,3818588119),model:{value:s.user.email,callback:function(e){s.$set(s.user,"email",e)},expression:"user.email"}}),t("q-input",{ref:"password",staticClass:"q-ma-xs",attrs:{"bg-color":"primary",filled:"",type:s.isPassword?"text":"password",placeholder:"password",rules:[function(s){return s.length>=6||"Must be at least 6 characters"}],dense:"","lazy-rules":""},on:{keyup:function(e){return!e.type.indexOf("key")&&s._k(e.keyCode,"enter",13,e.key,"Enter")?null:s.submitLoginForm(e)}},scopedSlots:s._u([{key:"prepend",fn:function(){return[t("q-icon",{attrs:{size:"xs",name:"vpn_key"}})]},proxy:!0},{key:"append",fn:function(){return[t("q-icon",{staticClass:"cursor-pointer text-accent",attrs:{size:"xs",name:s.isPassword?"visibility_off":"visibility"},on:{click:function(e){s.isPassword=!s.isPassword}}})]},proxy:!0}],null,!1,4132389833),model:{value:s.user.password,callback:function(e){s.$set(s.user,"password",e)},expression:"user.password"}})],1)]),t("q-card-actions",{staticClass:"bg-white text-teal",attrs:{align:"right"}},[t("q-btn",{staticClass:"q-mr-md",attrs:{unelevated:"",color:"secondary",label:"Login"},on:{click:s.submitLoginForm}})],1)],1)},i=[],r=(t("e6cf"),t("ded3")),n=t.n(r),o=t("2f62"),l={data:()=>({loading:!1,user:{email:"",password:""},isPassword:!1,isConfirmPassword:!1}),computed:{passwordsMatch(){return[s=>!!s||"cannot be empty",s=>s==this.$refs.password.value||"passwords must match"]}},components:{loading:()=>t.e(2).then(t.bind(null,"c202"))},methods:n()(n()({},Object(o["b"])("users",["logUserIn"])),{},{showNotif(s,e="primary"){this.$q.notify({message:s,color:e})},isValidEmail(){const s=/^(?=[a-zA-Z0-9@._%+-]{6,254}$)[a-zA-Z0-9._%+-]{1,64}@(?:[a-zA-Z0-9-]{1,63}\.){1,8}[a-zA-Z]{2,63}$/;return s.test(this.user.email)||"Invalid email"},submitLoginForm(){this.loading=!0,this.$refs.email.validate(),this.$refs.password.validate(),this.$refs.email.hasErrors||this.$refs.password.hasError||this.signUserIn()},signUserIn(){this.logUserIn(this.user).then(s=>{this.loading=!1,this.showNotif("Logged in"),this.$emit("closeDialog"),this.$router.push("/lobby")}).catch(s=>{this.loading=!1,this.showNotif(s.message,"negative")})}}),mounted(){this.$refs.email.focus()}},c=l,d=t("2877"),u=t("f09f"),p=t("a370"),m=t("2c91"),f=t("9c40"),h=t("27f9"),w=t("0016"),g=t("4b7e"),b=t("7f67"),y=t("eebe"),q=t.n(y),v=Object(d["a"])(c,a,i,!1,null,null,null);e["default"]=v.exports;q()(v,"components",{QCard:u["a"],QCardSection:p["a"],QSpace:m["a"],QBtn:f["a"],QInput:h["a"],QIcon:w["a"],QCardActions:g["a"]}),q()(v,"directives",{ClosePopup:b["a"]})}}]);